<div class="page-header">
	<h1>Purchase <em> ''{{purchase.title}}''</em></h1>
</div>
<!-- <div class="well well-lg">
	<strong>Title</strong><br>{{purchase.title}}
</div>

<div class="row">

<div class="row" ng-switch on="purchase.payments.length">
	<ul ng-switch-when="0">
		<li><em>No polls in databases. Would you like to <a href="#/new">create one</a>?</li>
	</ul>

	<ul ng-switch-default>
		<li ng-repeat="payment in purchase.payments | filter:query">
			Name: <em>{{payment.name}}</em> Amount: <em>{{payment.amount}}</em>
		</li>
	</ul>
</div> -->

<form role="form" ng-submit="updatePurchase()">
	
	<div class="form-group">
		<label for="purchaseTitle">Title</label>
		<input type="text" ng-model="purchase.title" class="form-control" id="purchaseTitel" placeholder="Enter purchase Title">
	</div>
	



	<div class="form-group">
		<label><em>Payments</em></label>

		<div ng-repeat="payment in purchase.payments">
			<label> {{payment.name}}</label>
			<div class="input-group">
				
			   <input type="text" class="form-control" ng-model="payment.amount" placeholder="0 euros">
			   <!-- <input type="text" class="form-control" ng-model="payment.amountSign" value="1"> -->
			   
			   <span class="input-group-btn">

			   			<div ng-show="purchase.payments[$index].amountSign < 0">
			   				<button ng-click="purchase.payments[$index].amountSign = 1" class="btn btn-defaule" type="button">No Pay</button>
			   				<!-- <button class="btn btn-danger" type="button" ng-click="removePayment(payment.name)"><span class="glyphicon glyphicon-minus"> Exclude</button> -->
			   			</div>
			   			
        				<div ng-show="purchase.payments[$index].amountSign > 0"> 
        					<button ng-click="purchase.payments[$index].amountSign = -1" class="btn btn-success" type="button"> Pay </button>
        					<!-- <button class="btn btn-danger" type="button" ng-click="removePayment(payment.name)"><span class="glyphicon glyphicon-minus"> Exclude</button> -->
        				</div>
<!-- 
        				<div ng-show="purchase.payments[$index].amount==0"> 
        					<button ng-click="purchase.payments[$index].amountSign = 1" class="btn btn-success" type="button"> Pay </button><button class="btn btn-danger" type="button" ng-click="removePayment(payment.name)"><span class="glyphicon glyphicon-minus"> Exclude</button>
        				</div> -->


			   </span>
			</div>
			 
        </div>
	    </div>

	</div>		

	<div class="row">
		<div class="col-xs-12">
			<button type="button" class="btn btn-default" ng-click="reset()"><span class="glyphicon glyphicon-refresh"></span> Reset Fields</button>
		</div>
	</div>

	<p><hr></p>
	
	<div class="row">
		<div class="col-sm-4">
			<a href="#/purchases" class="btn btn-default pull-left" role="button"><span class="glyphicon glyphicon-arrow-left"></span> Back</a>
		</div>
		<div class="col-sm-8">
			<button class="btn btn-primary pull-right" type="submit"> Save Changes&raquo;</button>
			<button type="button" class="btn btn-danger pull-right" ng-click="removePurchase(purchase._id)" >Delete</button>

		</div>
		
	</div> 
	
	<p>&nbsp;</p>
</form>

</div>
<p>&nbsp;</p>